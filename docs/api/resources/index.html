<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.9.1" />
<title>server.api.resources API documentation</title>
<meta name="description" content="Package contains all Resources used in this server" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>server.api.resources</code></h1>
</header>
<section id="section-intro">
<p>Package contains all Resources used in this server</p>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">&#34;&#34;&#34;Package contains all Resources used in this server&#34;&#34;&#34;
from api.resources.getImages import OneFullsize, MultipleFullsize, OneThumbnail, MultipleThumbnails, AllThumbnails
from api.resources.getMetadata import AllPictureIDs, MetadataOneImage, MetadataMultipleImages, MetadataAllImages, ImagesSize, ThumbnailSize, AnalyseDataset
from api.resources.getNn import Upload, NNOfExistingImage, NNOfExistingImages
from api.resources.misc import GetAllFaissIndices, ChangeActiveFaissIndex, ChangeNumberOfKMeansCentroids, GetSessionToken

__all__ = [
    &#34;OneFullsize&#34;,
    &#34;MultipleFullsize&#34;,
    &#34;OneThumbnail&#34;,
    &#34;MultipleThumbnails&#34;,
    &#34;AllThumbnails&#34;,
    &#34;AllPictureIDs&#34;,
    &#34;MetadataOneImage&#34;,
    &#34;MetadataMultipleImages&#34;,
    &#34;MetadataAllImages&#34;,
    &#34;ImagesSize&#34;,
    &#34;ThumbnailSize&#34;,
    &#34;AnalyseDataset&#34;,
    &#34;Upload&#34;,
    &#34;NNOfExistingImage&#34;,
    &#34;NNOfExistingImages&#34;,
    &#34;GetAllFaissIndices&#34;,
    &#34;ChangeActiveFaissIndex&#34;,
    &#34;ChangeNumberOfKMeansCentroids&#34;,
    &#34;GetSessionToken&#34;
]</code></pre>
</details>
</section>
<section>
<h2 class="section-title" id="header-submodules">Sub-modules</h2>
<dl>
<dt><code class="name"><a title="server.api.resources.getImages" href="getImages/index.html">server.api.resources.getImages</a></code></dt>
<dd>
<div class="desc"><p>Package contains all Resources related to getting images from the database/dataset</p></div>
</dd>
<dt><code class="name"><a title="server.api.resources.getMetadata" href="getMetadata/index.html">server.api.resources.getMetadata</a></code></dt>
<dd>
<div class="desc"><p>Package contains all Resources related to getting metadata from images from the database/dataset</p></div>
</dd>
<dt><code class="name"><a title="server.api.resources.getNn" href="getNn/index.html">server.api.resources.getNn</a></code></dt>
<dd>
<div class="desc"><p>Package contains all Resources related to the calculation of the nearest neighbours</p></div>
</dd>
<dt><code class="name"><a title="server.api.resources.misc" href="misc/index.html">server.api.resources.misc</a></code></dt>
<dd>
<div class="desc"><p>Package contains various Resources which do not fit into the other packages</p></div>
</dd>
</dl>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="server.api.resources.AllPictureIDs"><code class="flex name class">
<span>class <span class="ident">AllPictureIDs</span></span>
</code></dt>
<dd>
<div class="desc"><p>Resource returns ids of all images in database on get request</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class AllPictureIDs(Resource):
    &#34;&#34;&#34;Resource returns ids of all images in database on get request&#34;&#34;&#34;

    def get(self):
        &#34;&#34;&#34;HTTP GET request used to return the ids of all images in the database

        Returns:
            Any: data for response
        &#34;&#34;&#34;
        all_ids = db.get_instance().get_all_ids()
        if all_ids is None:
            abort(404, message=&#34;No Pictures found&#34;)
        all_ids_list = [ x[&#34;id&#34;] for x in all_ids ]
        return all_ids_list</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>flask_restful.Resource</li>
<li>flask.views.MethodView</li>
<li>flask.views.View</li>
</ul>
<h3>Class variables</h3>
<dl>
<dt id="server.api.resources.AllPictureIDs.endpoint"><code class="name">var <span class="ident">endpoint</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="server.api.resources.AllPictureIDs.methods"><code class="name">var <span class="ident">methods</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="server.api.resources.AllPictureIDs.get"><code class="name flex">
<span>def <span class="ident">get</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>HTTP GET request used to return the ids of all images in the database</p>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>Any</code></dt>
<dd>data for response</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get(self):
    &#34;&#34;&#34;HTTP GET request used to return the ids of all images in the database

    Returns:
        Any: data for response
    &#34;&#34;&#34;
    all_ids = db.get_instance().get_all_ids()
    if all_ids is None:
        abort(404, message=&#34;No Pictures found&#34;)
    all_ids_list = [ x[&#34;id&#34;] for x in all_ids ]
    return all_ids_list</code></pre>
</details>
</dd>
<dt id="server.api.resources.AllPictureIDs.mediatypes"><code class="name flex">
<span>def <span class="ident">mediatypes</span></span>(<span>resource_cls)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">return lambda resource_cls: self.mediatypes() + [self.default_mediatype]</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="server.api.resources.AllThumbnails"><code class="flex name class">
<span>class <span class="ident">AllThumbnails</span></span>
</code></dt>
<dd>
<div class="desc"><p>Resource returns thumbnails on get request</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class AllThumbnails(Resource):
    &#34;&#34;&#34;Resource returns thumbnails on get request&#34;&#34;&#34;

    def get(self):
        &#34;&#34;&#34;HTTP GET request used to return all thumbnails as a zip directory

        Returns:
            Any: data for response
        &#34;&#34;&#34;
        all_images = db.get_instance().get_all_thumbnails()
        if all_images is None:
            abort(404, message=&#34;No Pictures found&#34;)
        # See https://stackoverflow.com/questions/2463770/python-in-memory-zip-library
        buffer = BytesIO()
        with ZipFile(buffer, &#34;a&#34;, ZIP_DEFLATED, False) as zip_file:
            for item in all_images:
                the_id = item.id
                zip_file.writestr(f&#34;{the_id}_{item.filename}&#34;, item.read())
        buffer.seek(0)
        return send_file(buffer, attachment_filename=&#34;thumbnails.zip&#34;, as_attachment=True)</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>flask_restful.Resource</li>
<li>flask.views.MethodView</li>
<li>flask.views.View</li>
</ul>
<h3>Class variables</h3>
<dl>
<dt id="server.api.resources.AllThumbnails.endpoint"><code class="name">var <span class="ident">endpoint</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="server.api.resources.AllThumbnails.methods"><code class="name">var <span class="ident">methods</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="server.api.resources.AllThumbnails.get"><code class="name flex">
<span>def <span class="ident">get</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>HTTP GET request used to return all thumbnails as a zip directory</p>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>Any</code></dt>
<dd>data for response</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get(self):
    &#34;&#34;&#34;HTTP GET request used to return all thumbnails as a zip directory

    Returns:
        Any: data for response
    &#34;&#34;&#34;
    all_images = db.get_instance().get_all_thumbnails()
    if all_images is None:
        abort(404, message=&#34;No Pictures found&#34;)
    # See https://stackoverflow.com/questions/2463770/python-in-memory-zip-library
    buffer = BytesIO()
    with ZipFile(buffer, &#34;a&#34;, ZIP_DEFLATED, False) as zip_file:
        for item in all_images:
            the_id = item.id
            zip_file.writestr(f&#34;{the_id}_{item.filename}&#34;, item.read())
    buffer.seek(0)
    return send_file(buffer, attachment_filename=&#34;thumbnails.zip&#34;, as_attachment=True)</code></pre>
</details>
</dd>
<dt id="server.api.resources.AllThumbnails.mediatypes"><code class="name flex">
<span>def <span class="ident">mediatypes</span></span>(<span>resource_cls)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">return lambda resource_cls: self.mediatypes() + [self.default_mediatype]</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="server.api.resources.AnalyseDataset"><code class="flex name class">
<span>class <span class="ident">AnalyseDataset</span></span>
</code></dt>
<dd>
<div class="desc"><p>Resource returns data concerning coordinates and images in the dataset</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class AnalyseDataset(Resource):
    &#34;&#34;&#34;Resource returns data concerning coordinates and images in the dataset&#34;&#34;&#34;

    def get(self):
        &#34;&#34;&#34;HTTP GET request used to return data concerning coordinates and images in the dataset

        Returns:
            Any: data for response
        &#34;&#34;&#34;
        return get_analysed_dataset()</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>flask_restful.Resource</li>
<li>flask.views.MethodView</li>
<li>flask.views.View</li>
</ul>
<h3>Class variables</h3>
<dl>
<dt id="server.api.resources.AnalyseDataset.endpoint"><code class="name">var <span class="ident">endpoint</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="server.api.resources.AnalyseDataset.methods"><code class="name">var <span class="ident">methods</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="server.api.resources.AnalyseDataset.get"><code class="name flex">
<span>def <span class="ident">get</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>HTTP GET request used to return data concerning coordinates and images in the dataset</p>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>Any</code></dt>
<dd>data for response</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get(self):
    &#34;&#34;&#34;HTTP GET request used to return data concerning coordinates and images in the dataset

    Returns:
        Any: data for response
    &#34;&#34;&#34;
    return get_analysed_dataset()</code></pre>
</details>
</dd>
<dt id="server.api.resources.AnalyseDataset.mediatypes"><code class="name flex">
<span>def <span class="ident">mediatypes</span></span>(<span>resource_cls)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">return lambda resource_cls: self.mediatypes() + [self.default_mediatype]</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="server.api.resources.ChangeActiveFaissIndex"><code class="flex name class">
<span>class <span class="ident">ChangeActiveFaissIndex</span></span>
</code></dt>
<dd>
<div class="desc"><p>Resource changes the currently used faiss index on get request</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class ChangeActiveFaissIndex(Resource):
    &#34;&#34;&#34;Resource changes the currently used faiss index on get request&#34;&#34;&#34;

    def get(self, index_key: Any):
        &#34;&#34;&#34;HTTP GET request used to change the currently used faiss index

        Args:
            index_key (Any): key for faiss index

        Returns:
            Any: data for response
        &#34;&#34;&#34;
        if index_key is None:
            abort(404, message=&#34;no index key send&#34;)
        try:
            index_key = str(index_key)
        except ValueError as e:
            abort(404, message=f&#34;{e}\nError parsing index_key {index_key}&#34;)
        success = iss.get_instance().change_index(index_key)
        if success:
            return &#34;success!&#34;
        else:
            abort(404, message=&#34;index change failed&#34;)</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>flask_restful.Resource</li>
<li>flask.views.MethodView</li>
<li>flask.views.View</li>
</ul>
<h3>Class variables</h3>
<dl>
<dt id="server.api.resources.ChangeActiveFaissIndex.endpoint"><code class="name">var <span class="ident">endpoint</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="server.api.resources.ChangeActiveFaissIndex.methods"><code class="name">var <span class="ident">methods</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="server.api.resources.ChangeActiveFaissIndex.get"><code class="name flex">
<span>def <span class="ident">get</span></span>(<span>self, index_key: Any)</span>
</code></dt>
<dd>
<div class="desc"><p>HTTP GET request used to change the currently used faiss index</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>index_key</code></strong> :&ensp;<code>Any</code></dt>
<dd>key for faiss index</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>Any</code></dt>
<dd>data for response</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get(self, index_key: Any):
    &#34;&#34;&#34;HTTP GET request used to change the currently used faiss index

    Args:
        index_key (Any): key for faiss index

    Returns:
        Any: data for response
    &#34;&#34;&#34;
    if index_key is None:
        abort(404, message=&#34;no index key send&#34;)
    try:
        index_key = str(index_key)
    except ValueError as e:
        abort(404, message=f&#34;{e}\nError parsing index_key {index_key}&#34;)
    success = iss.get_instance().change_index(index_key)
    if success:
        return &#34;success!&#34;
    else:
        abort(404, message=&#34;index change failed&#34;)</code></pre>
</details>
</dd>
<dt id="server.api.resources.ChangeActiveFaissIndex.mediatypes"><code class="name flex">
<span>def <span class="ident">mediatypes</span></span>(<span>resource_cls)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">return lambda resource_cls: self.mediatypes() + [self.default_mediatype]</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="server.api.resources.ChangeNumberOfKMeansCentroids"><code class="flex name class">
<span>class <span class="ident">ChangeNumberOfKMeansCentroids</span></span>
</code></dt>
<dd>
<div class="desc"><p>Resource returns the current kmeans centroids (GET) and change the amount of centroids (POST)</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class ChangeNumberOfKMeansCentroids(Resource):
    &#34;&#34;&#34;Resource returns the current kmeans centroids (GET) and change the amount of centroids (POST)&#34;&#34;&#34;
    
    def post(self):
        &#34;&#34;&#34;HTTP POST request used to change the amount of cluster centers used in kmeans clustering

        Returns:
            Any: data for response
        &#34;&#34;&#34;
        if not &#34;nr_of_centroids&#34; in request.json:
            abort(404, message=&#34;No nr_of_centroids in json body&#34;)
        nr_of_centroids = request.json[&#34;nr_of_centroids&#34;]
        if nr_of_centroids is None:
            abort(404, message=&#34;No value for number of centroids given&#34;)
        try:
            nr_of_centroids = int(nr_of_centroids)
        except ValueError as e:
            abort(404, message=f&#34;{e}\nError parsing nr_of_centroids {nr_of_centroids}&#34;)
        kmeans.get_instance().cluster(nr_of_centroids)
        db.get_instance().update_labels(kmeans.get_instance().labels)
        return f&#34;k-means now uses {len(kmeans.get_instance().cluster_centers)} centroids&#34;

    def get(self):
        &#34;&#34;&#34;HTTP GET request used to get the amount and values of cluster centers

        Returns:
            Any: data for response
        &#34;&#34;&#34;
        cluster_list = [ 
            { 
                &#34;id&#34;: idx, 
                &#34;cluster_center&#34;: item 
            } for idx, item in enumerate(kmeans.get_instance().cluster_centers.tolist()) 
        ]
        return {
            &#34;nr_of_centroids&#34;: len(cluster_list),
            &#34;cluster_centers&#34;: cluster_list
        }</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>flask_restful.Resource</li>
<li>flask.views.MethodView</li>
<li>flask.views.View</li>
</ul>
<h3>Class variables</h3>
<dl>
<dt id="server.api.resources.ChangeNumberOfKMeansCentroids.endpoint"><code class="name">var <span class="ident">endpoint</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="server.api.resources.ChangeNumberOfKMeansCentroids.methods"><code class="name">var <span class="ident">methods</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="server.api.resources.ChangeNumberOfKMeansCentroids.get"><code class="name flex">
<span>def <span class="ident">get</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>HTTP GET request used to get the amount and values of cluster centers</p>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>Any</code></dt>
<dd>data for response</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get(self):
    &#34;&#34;&#34;HTTP GET request used to get the amount and values of cluster centers

    Returns:
        Any: data for response
    &#34;&#34;&#34;
    cluster_list = [ 
        { 
            &#34;id&#34;: idx, 
            &#34;cluster_center&#34;: item 
        } for idx, item in enumerate(kmeans.get_instance().cluster_centers.tolist()) 
    ]
    return {
        &#34;nr_of_centroids&#34;: len(cluster_list),
        &#34;cluster_centers&#34;: cluster_list
    }</code></pre>
</details>
</dd>
<dt id="server.api.resources.ChangeNumberOfKMeansCentroids.mediatypes"><code class="name flex">
<span>def <span class="ident">mediatypes</span></span>(<span>resource_cls)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">return lambda resource_cls: self.mediatypes() + [self.default_mediatype]</code></pre>
</details>
</dd>
<dt id="server.api.resources.ChangeNumberOfKMeansCentroids.post"><code class="name flex">
<span>def <span class="ident">post</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>HTTP POST request used to change the amount of cluster centers used in kmeans clustering</p>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>Any</code></dt>
<dd>data for response</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def post(self):
    &#34;&#34;&#34;HTTP POST request used to change the amount of cluster centers used in kmeans clustering

    Returns:
        Any: data for response
    &#34;&#34;&#34;
    if not &#34;nr_of_centroids&#34; in request.json:
        abort(404, message=&#34;No nr_of_centroids in json body&#34;)
    nr_of_centroids = request.json[&#34;nr_of_centroids&#34;]
    if nr_of_centroids is None:
        abort(404, message=&#34;No value for number of centroids given&#34;)
    try:
        nr_of_centroids = int(nr_of_centroids)
    except ValueError as e:
        abort(404, message=f&#34;{e}\nError parsing nr_of_centroids {nr_of_centroids}&#34;)
    kmeans.get_instance().cluster(nr_of_centroids)
    db.get_instance().update_labels(kmeans.get_instance().labels)
    return f&#34;k-means now uses {len(kmeans.get_instance().cluster_centers)} centroids&#34;</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="server.api.resources.GetAllFaissIndices"><code class="flex name class">
<span>class <span class="ident">GetAllFaissIndices</span></span>
</code></dt>
<dd>
<div class="desc"><p>Resource returns all available faiss index keys on get request</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class GetAllFaissIndices(Resource):
    &#34;&#34;&#34;Resource returns all available faiss index keys on get request&#34;&#34;&#34;

    def get(self):
        &#34;&#34;&#34;HTTP GET request used to return all available faiss index keys

        Returns:
            Any: data for response
        &#34;&#34;&#34;
        return iss.get_instance().get_all_indices_keys()</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>flask_restful.Resource</li>
<li>flask.views.MethodView</li>
<li>flask.views.View</li>
</ul>
<h3>Class variables</h3>
<dl>
<dt id="server.api.resources.GetAllFaissIndices.endpoint"><code class="name">var <span class="ident">endpoint</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="server.api.resources.GetAllFaissIndices.methods"><code class="name">var <span class="ident">methods</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="server.api.resources.GetAllFaissIndices.get"><code class="name flex">
<span>def <span class="ident">get</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>HTTP GET request used to return all available faiss index keys</p>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>Any</code></dt>
<dd>data for response</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get(self):
    &#34;&#34;&#34;HTTP GET request used to return all available faiss index keys

    Returns:
        Any: data for response
    &#34;&#34;&#34;
    return iss.get_instance().get_all_indices_keys()</code></pre>
</details>
</dd>
<dt id="server.api.resources.GetAllFaissIndices.mediatypes"><code class="name flex">
<span>def <span class="ident">mediatypes</span></span>(<span>resource_cls)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">return lambda resource_cls: self.mediatypes() + [self.default_mediatype]</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="server.api.resources.GetSessionToken"><code class="flex name class">
<span>class <span class="ident">GetSessionToken</span></span>
</code></dt>
<dd>
<div class="desc"><p>Resource returns a new Api-Session-Token in its response header after a get request</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class GetSessionToken(Resource):
    &#34;&#34;&#34;Resource returns a new Api-Session-Token in its response header after a get request&#34;&#34;&#34;
    
    def get(self):
        &#34;&#34;&#34;HTTP GET request returning a new Api-Session-Token in its response header

        Returns:
            Any: data for response
        &#34;&#34;&#34;
        resp = make_response(&#34;success&#34;)
        resp.headers[&#34;Api-Session-Token&#34;] = auth.get_instance().generate_session_key()
        return resp</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>flask_restful.Resource</li>
<li>flask.views.MethodView</li>
<li>flask.views.View</li>
</ul>
<h3>Class variables</h3>
<dl>
<dt id="server.api.resources.GetSessionToken.endpoint"><code class="name">var <span class="ident">endpoint</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="server.api.resources.GetSessionToken.methods"><code class="name">var <span class="ident">methods</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="server.api.resources.GetSessionToken.get"><code class="name flex">
<span>def <span class="ident">get</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>HTTP GET request returning a new Api-Session-Token in its response header</p>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>Any</code></dt>
<dd>data for response</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get(self):
    &#34;&#34;&#34;HTTP GET request returning a new Api-Session-Token in its response header

    Returns:
        Any: data for response
    &#34;&#34;&#34;
    resp = make_response(&#34;success&#34;)
    resp.headers[&#34;Api-Session-Token&#34;] = auth.get_instance().generate_session_key()
    return resp</code></pre>
</details>
</dd>
<dt id="server.api.resources.GetSessionToken.mediatypes"><code class="name flex">
<span>def <span class="ident">mediatypes</span></span>(<span>resource_cls)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">return lambda resource_cls: self.mediatypes() + [self.default_mediatype]</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="server.api.resources.ImagesSize"><code class="flex name class">
<span>class <span class="ident">ImagesSize</span></span>
</code></dt>
<dd>
<div class="desc"><p>Resource returns the size of images within the dataset</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class ImagesSize(Resource):
    &#34;&#34;&#34;Resource returns the size of images within the dataset&#34;&#34;&#34;

    def get(self):
        &#34;&#34;&#34;HTTP GET request used to return the size of images within the dataset

        Returns:
            Any: data for response
        &#34;&#34;&#34;
        return {
            &#34;width&#34;: environ.get(&#34;FULLSIZE_WIDTH&#34;),
            &#34;height&#34;: environ.get(&#34;FULLSIZE_HEIGHT&#34;)
        }</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>flask_restful.Resource</li>
<li>flask.views.MethodView</li>
<li>flask.views.View</li>
</ul>
<h3>Class variables</h3>
<dl>
<dt id="server.api.resources.ImagesSize.endpoint"><code class="name">var <span class="ident">endpoint</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="server.api.resources.ImagesSize.methods"><code class="name">var <span class="ident">methods</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="server.api.resources.ImagesSize.get"><code class="name flex">
<span>def <span class="ident">get</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>HTTP GET request used to return the size of images within the dataset</p>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>Any</code></dt>
<dd>data for response</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get(self):
    &#34;&#34;&#34;HTTP GET request used to return the size of images within the dataset

    Returns:
        Any: data for response
    &#34;&#34;&#34;
    return {
        &#34;width&#34;: environ.get(&#34;FULLSIZE_WIDTH&#34;),
        &#34;height&#34;: environ.get(&#34;FULLSIZE_HEIGHT&#34;)
    }</code></pre>
</details>
</dd>
<dt id="server.api.resources.ImagesSize.mediatypes"><code class="name flex">
<span>def <span class="ident">mediatypes</span></span>(<span>resource_cls)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">return lambda resource_cls: self.mediatypes() + [self.default_mediatype]</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="server.api.resources.MetadataAllImages"><code class="flex name class">
<span>class <span class="ident">MetadataAllImages</span></span>
</code></dt>
<dd>
<div class="desc"><p>Resource returns the metadata of all images within the database on get request</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class MetadataAllImages(Resource):
    &#34;&#34;&#34;Resource returns the metadata of all images within the database on get request&#34;&#34;&#34;

    def get(self):
        &#34;&#34;&#34;HTTP GET request used to return the metadata of all images within the database

        Returns:
            Any: data for response
        &#34;&#34;&#34;
        data = db.get_instance().get_all_metadata()
        if data is None:
            abort(404, message=&#34;An error occured&#34;)
        return data</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>flask_restful.Resource</li>
<li>flask.views.MethodView</li>
<li>flask.views.View</li>
</ul>
<h3>Class variables</h3>
<dl>
<dt id="server.api.resources.MetadataAllImages.endpoint"><code class="name">var <span class="ident">endpoint</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="server.api.resources.MetadataAllImages.methods"><code class="name">var <span class="ident">methods</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="server.api.resources.MetadataAllImages.get"><code class="name flex">
<span>def <span class="ident">get</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>HTTP GET request used to return the metadata of all images within the database</p>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>Any</code></dt>
<dd>data for response</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get(self):
    &#34;&#34;&#34;HTTP GET request used to return the metadata of all images within the database

    Returns:
        Any: data for response
    &#34;&#34;&#34;
    data = db.get_instance().get_all_metadata()
    if data is None:
        abort(404, message=&#34;An error occured&#34;)
    return data</code></pre>
</details>
</dd>
<dt id="server.api.resources.MetadataAllImages.mediatypes"><code class="name flex">
<span>def <span class="ident">mediatypes</span></span>(<span>resource_cls)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">return lambda resource_cls: self.mediatypes() + [self.default_mediatype]</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="server.api.resources.MetadataMultipleImages"><code class="flex name class">
<span>class <span class="ident">MetadataMultipleImages</span></span>
</code></dt>
<dd>
<div class="desc"><p>Resource returns the metadata of multiple images in the database on post request</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class MetadataMultipleImages(Resource):
    &#34;&#34;&#34;Resource returns the metadata of multiple images in the database on post request&#34;&#34;&#34;
    
    def post(self):
        &#34;&#34;&#34;HTTP POST request used to return the metadata of multiple images in the database

        Returns:
            Any: data for response
        &#34;&#34;&#34;
        if not &#34;picture_ids&#34; in request.json:
            abort(404, message=&#34;No picture ids present in json body&#34;)
        picture_ids = request.json[&#34;picture_ids&#34;]
        metadata = db.get_instance().get_multiple_metadata(picture_ids)
        if metadata is None:
            abort(404, message=&#34;An error occured while retrieving the metadata from the databse&#34;)
        return metadata</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>flask_restful.Resource</li>
<li>flask.views.MethodView</li>
<li>flask.views.View</li>
</ul>
<h3>Class variables</h3>
<dl>
<dt id="server.api.resources.MetadataMultipleImages.endpoint"><code class="name">var <span class="ident">endpoint</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="server.api.resources.MetadataMultipleImages.methods"><code class="name">var <span class="ident">methods</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="server.api.resources.MetadataMultipleImages.mediatypes"><code class="name flex">
<span>def <span class="ident">mediatypes</span></span>(<span>resource_cls)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">return lambda resource_cls: self.mediatypes() + [self.default_mediatype]</code></pre>
</details>
</dd>
<dt id="server.api.resources.MetadataMultipleImages.post"><code class="name flex">
<span>def <span class="ident">post</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>HTTP POST request used to return the metadata of multiple images in the database</p>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>Any</code></dt>
<dd>data for response</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def post(self):
    &#34;&#34;&#34;HTTP POST request used to return the metadata of multiple images in the database

    Returns:
        Any: data for response
    &#34;&#34;&#34;
    if not &#34;picture_ids&#34; in request.json:
        abort(404, message=&#34;No picture ids present in json body&#34;)
    picture_ids = request.json[&#34;picture_ids&#34;]
    metadata = db.get_instance().get_multiple_metadata(picture_ids)
    if metadata is None:
        abort(404, message=&#34;An error occured while retrieving the metadata from the databse&#34;)
    return metadata</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="server.api.resources.MetadataOneImage"><code class="flex name class">
<span>class <span class="ident">MetadataOneImage</span></span>
</code></dt>
<dd>
<div class="desc"><p>Resource returns the metadata from one image in the database on get request</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class MetadataOneImage(Resource):
    &#34;&#34;&#34;Resource returns the metadata from one image in the database on get request&#34;&#34;&#34;
    
    def get(self, picture_id: Any):
        &#34;&#34;&#34;HTTP GET request used to return the metadata from one image in the database

        Args:
            picture_id (Any): id of image whose metadata shall be returned

        Returns:
            Any: data for response
        &#34;&#34;&#34;
        if picture_id is None:
            abort(404, message=&#34;No picture_id present in path&#34;)
        try:
            picture_id = int(picture_id)
        except ValueError as e:
            abort(404, message=f&#34;{e}\n Parsing picture_id {picture_id} failed&#34;)
        data = db.get_instance().get_metadata(picture_id)
        if data is None:
            abort(404, message=&#34;An error occured&#34;)
        return data</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>flask_restful.Resource</li>
<li>flask.views.MethodView</li>
<li>flask.views.View</li>
</ul>
<h3>Class variables</h3>
<dl>
<dt id="server.api.resources.MetadataOneImage.endpoint"><code class="name">var <span class="ident">endpoint</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="server.api.resources.MetadataOneImage.methods"><code class="name">var <span class="ident">methods</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="server.api.resources.MetadataOneImage.get"><code class="name flex">
<span>def <span class="ident">get</span></span>(<span>self, picture_id: Any)</span>
</code></dt>
<dd>
<div class="desc"><p>HTTP GET request used to return the metadata from one image in the database</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>picture_id</code></strong> :&ensp;<code>Any</code></dt>
<dd>id of image whose metadata shall be returned</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>Any</code></dt>
<dd>data for response</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get(self, picture_id: Any):
    &#34;&#34;&#34;HTTP GET request used to return the metadata from one image in the database

    Args:
        picture_id (Any): id of image whose metadata shall be returned

    Returns:
        Any: data for response
    &#34;&#34;&#34;
    if picture_id is None:
        abort(404, message=&#34;No picture_id present in path&#34;)
    try:
        picture_id = int(picture_id)
    except ValueError as e:
        abort(404, message=f&#34;{e}\n Parsing picture_id {picture_id} failed&#34;)
    data = db.get_instance().get_metadata(picture_id)
    if data is None:
        abort(404, message=&#34;An error occured&#34;)
    return data</code></pre>
</details>
</dd>
<dt id="server.api.resources.MetadataOneImage.mediatypes"><code class="name flex">
<span>def <span class="ident">mediatypes</span></span>(<span>resource_cls)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">return lambda resource_cls: self.mediatypes() + [self.default_mediatype]</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="server.api.resources.MultipleFullsize"><code class="flex name class">
<span>class <span class="ident">MultipleFullsize</span></span>
</code></dt>
<dd>
<div class="desc"><p>Resource returns multiple fullsize images on post request</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class MultipleFullsize(Resource):
    &#34;&#34;&#34;Resource returns multiple fullsize images on post request&#34;&#34;&#34;

    def post(self):
        &#34;&#34;&#34;HTTP POST request used to return multiple fullsize images specified in json body array picture_ids

        Returns:
            Any: data for response
        &#34;&#34;&#34;
        if not &#34;picture_ids&#34; in request.json:
            abort(404, message=&#34;No picture ids present in json body&#34;)
        picture_ids = request.json[&#34;picture_ids&#34;]
        abort_if_pictures_dont_exist(picture_ids, db.get_instance())
        print(f&#34;Getting fullsize for ids { picture_ids } &#34;)
        images = db.get_instance().get_multiple_fullsize_by_id(picture_ids)
        if images is None:
            abort(404, message=f&#34;Picture(s) {picture_ids} not found&#34;)
        # See https://stackoverflow.com/questions/2463770/python-in-memory-zip-library
        buffer = BytesIO()
        with ZipFile(buffer, &#34;a&#34;, ZIP_DEFLATED, False) as zip_file:
            for item in images:
                with Image.open(item[&#34;path&#34;]) as img:
                    filename = path.split(item[&#34;path&#34;])[-1]
                    with BytesIO() as output:
                        img.save(output, format=img.format)
                        the_id = item[&#34;id&#34;]
                        zip_file.writestr(f&#34;{the_id}_{filename}&#34;, output.getvalue())
        buffer.seek(0)
        return send_file(buffer, attachment_filename=&#34;fullsize.zip&#34;, as_attachment=True)</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>flask_restful.Resource</li>
<li>flask.views.MethodView</li>
<li>flask.views.View</li>
</ul>
<h3>Class variables</h3>
<dl>
<dt id="server.api.resources.MultipleFullsize.endpoint"><code class="name">var <span class="ident">endpoint</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="server.api.resources.MultipleFullsize.methods"><code class="name">var <span class="ident">methods</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="server.api.resources.MultipleFullsize.mediatypes"><code class="name flex">
<span>def <span class="ident">mediatypes</span></span>(<span>resource_cls)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">return lambda resource_cls: self.mediatypes() + [self.default_mediatype]</code></pre>
</details>
</dd>
<dt id="server.api.resources.MultipleFullsize.post"><code class="name flex">
<span>def <span class="ident">post</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>HTTP POST request used to return multiple fullsize images specified in json body array picture_ids</p>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>Any</code></dt>
<dd>data for response</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def post(self):
    &#34;&#34;&#34;HTTP POST request used to return multiple fullsize images specified in json body array picture_ids

    Returns:
        Any: data for response
    &#34;&#34;&#34;
    if not &#34;picture_ids&#34; in request.json:
        abort(404, message=&#34;No picture ids present in json body&#34;)
    picture_ids = request.json[&#34;picture_ids&#34;]
    abort_if_pictures_dont_exist(picture_ids, db.get_instance())
    print(f&#34;Getting fullsize for ids { picture_ids } &#34;)
    images = db.get_instance().get_multiple_fullsize_by_id(picture_ids)
    if images is None:
        abort(404, message=f&#34;Picture(s) {picture_ids} not found&#34;)
    # See https://stackoverflow.com/questions/2463770/python-in-memory-zip-library
    buffer = BytesIO()
    with ZipFile(buffer, &#34;a&#34;, ZIP_DEFLATED, False) as zip_file:
        for item in images:
            with Image.open(item[&#34;path&#34;]) as img:
                filename = path.split(item[&#34;path&#34;])[-1]
                with BytesIO() as output:
                    img.save(output, format=img.format)
                    the_id = item[&#34;id&#34;]
                    zip_file.writestr(f&#34;{the_id}_{filename}&#34;, output.getvalue())
    buffer.seek(0)
    return send_file(buffer, attachment_filename=&#34;fullsize.zip&#34;, as_attachment=True)</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="server.api.resources.MultipleThumbnails"><code class="flex name class">
<span>class <span class="ident">MultipleThumbnails</span></span>
</code></dt>
<dd>
<div class="desc"><p>Resource returns multiple thumbnails on post request</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class MultipleThumbnails(Resource):
    &#34;&#34;&#34;Resource returns multiple thumbnails on post request&#34;&#34;&#34;
    
    def post(self):
        &#34;&#34;&#34;HTTP POST request used to return multiple thumbnails specified in json body array picture_ids

        Returns:
            Any: data for response
        &#34;&#34;&#34;
        if not &#34;picture_ids&#34; in request.json:
            abort(404, message=&#34;No picture ids present in json body&#34;)
        picture_ids = request.json[&#34;picture_ids&#34;]
        abort_if_pictures_dont_exist(picture_ids, db.get_instance())
        print(f&#34;Getting thumbnails for ids { picture_ids } &#34;)
        images = db.get_instance().get_multiple_thumbnails_by_id(picture_ids)
        if images is None:
            abort(404, message=f&#34;Picture(s) {picture_ids} not found&#34;)
        # See https://stackoverflow.com/questions/2463770/python-in-memory-zip-library
        buffer = BytesIO()
        with ZipFile(buffer, &#34;a&#34;, ZIP_DEFLATED, False) as zip_file:
            for item in images:
                the_id = item.id
                zip_file.writestr(f&#34;{the_id}_{item.filename}&#34;, item.read())
        buffer.seek(0)
        return send_file(buffer, attachment_filename=&#34;thumbnails.zip&#34;, as_attachment=True)</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>flask_restful.Resource</li>
<li>flask.views.MethodView</li>
<li>flask.views.View</li>
</ul>
<h3>Class variables</h3>
<dl>
<dt id="server.api.resources.MultipleThumbnails.endpoint"><code class="name">var <span class="ident">endpoint</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="server.api.resources.MultipleThumbnails.methods"><code class="name">var <span class="ident">methods</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="server.api.resources.MultipleThumbnails.mediatypes"><code class="name flex">
<span>def <span class="ident">mediatypes</span></span>(<span>resource_cls)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">return lambda resource_cls: self.mediatypes() + [self.default_mediatype]</code></pre>
</details>
</dd>
<dt id="server.api.resources.MultipleThumbnails.post"><code class="name flex">
<span>def <span class="ident">post</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>HTTP POST request used to return multiple thumbnails specified in json body array picture_ids</p>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>Any</code></dt>
<dd>data for response</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def post(self):
    &#34;&#34;&#34;HTTP POST request used to return multiple thumbnails specified in json body array picture_ids

    Returns:
        Any: data for response
    &#34;&#34;&#34;
    if not &#34;picture_ids&#34; in request.json:
        abort(404, message=&#34;No picture ids present in json body&#34;)
    picture_ids = request.json[&#34;picture_ids&#34;]
    abort_if_pictures_dont_exist(picture_ids, db.get_instance())
    print(f&#34;Getting thumbnails for ids { picture_ids } &#34;)
    images = db.get_instance().get_multiple_thumbnails_by_id(picture_ids)
    if images is None:
        abort(404, message=f&#34;Picture(s) {picture_ids} not found&#34;)
    # See https://stackoverflow.com/questions/2463770/python-in-memory-zip-library
    buffer = BytesIO()
    with ZipFile(buffer, &#34;a&#34;, ZIP_DEFLATED, False) as zip_file:
        for item in images:
            the_id = item.id
            zip_file.writestr(f&#34;{the_id}_{item.filename}&#34;, item.read())
    buffer.seek(0)
    return send_file(buffer, attachment_filename=&#34;thumbnails.zip&#34;, as_attachment=True)</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="server.api.resources.NNOfExistingImage"><code class="flex name class">
<span>class <span class="ident">NNOfExistingImage</span></span>
</code></dt>
<dd>
<div class="desc"><p>Resource returns the nearest neighbours of one image within the database on post request</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class NNOfExistingImage(Resource):
    &#34;&#34;&#34;Resource returns the nearest neighbours of one image within the database on post request&#34;&#34;&#34;

    def post(self, picture_id: Any):
        &#34;&#34;&#34;HTTP POST request used to return the nearest neighbours of one image within the database

        Args:
            picture_id (Any): id of image in database, whose nearest neighbours shall be found

        Returns:
            Any: data for response
        &#34;&#34;&#34;
        if picture_id is None:
            abort(404, message=&#34;No picture_id present in path&#34;)
        try:
            picture_id = int(picture_id)
        except ValueError as e:
            abort(404, message=f&#34;{e}\n Parsing picture_id {picture_id} failed&#34;)
        
        image = db.get_instance().get_one_fullsize_by_id(picture_id)
        if image is None:
            abort(404, message=f&#34;Picture {picture_id} not found&#34;)
        the_path = image[&#34;path&#34;]
        
        if not &#34;k&#34; in request.json:
            abort(404, message=&#34;k is missing in request body&#34;)
        success, error, k = is_k_valid(request.json[&#34;k&#34;], db.get_instance(), id_from_database=True)
        if not success:
            abort(404, message=error)
        k += 1  # Image exists in database and is found in nearest neighbour search, need to find one more to delete the image itself from neighbours
        
        converted_image = load_and_process_one_from_dataset(the_path)
        D, I = iss.get_instance().search(converted_image, k)
        
        sim_percentages = get_similarities(D)
        
        spot = np.argwhere(I == picture_id) # searching for index of requested center image
        if spot.shape[0] == 0: # no spot found, remove last element in result arrays
            spot = I.shape[1] - 1
        else: # remove element at spot
            spot = spot[0, 1]
        # Remove requested Picture
        D = np.delete(D, obj=spot, axis=1)
        I = np.delete(I, obj=spot, axis=1)
        sim_percentages[0].pop(spot)
        
        res = db.get_instance().ids_to_various(I, filename=True, cluster_center=True)
        neighbour_filenames = res[&#34;filename&#34;]
        neighbour_cluster_centers = res[&#34;cluster_center&#34;]
        
        cluster_center = db.get_instance().get_one_label(picture_id)
        
        return {
            &#34;requested_id&#34;: picture_id,
            &#34;requested_filename&#34;: image[&#34;filename&#34;],
            &#34;distances&#34;: D.tolist(),
            &#34;ids&#34;: I.tolist(),
            &#34;neighbour_filenames&#34;: neighbour_filenames,
            &#34;neighbour_cluster_centers&#34;: neighbour_cluster_centers,
            &#34;similarities&#34;: sim_percentages,
            &#34;cluster_center&#34;: int(cluster_center)
        }</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>flask_restful.Resource</li>
<li>flask.views.MethodView</li>
<li>flask.views.View</li>
</ul>
<h3>Class variables</h3>
<dl>
<dt id="server.api.resources.NNOfExistingImage.endpoint"><code class="name">var <span class="ident">endpoint</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="server.api.resources.NNOfExistingImage.methods"><code class="name">var <span class="ident">methods</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="server.api.resources.NNOfExistingImage.mediatypes"><code class="name flex">
<span>def <span class="ident">mediatypes</span></span>(<span>resource_cls)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">return lambda resource_cls: self.mediatypes() + [self.default_mediatype]</code></pre>
</details>
</dd>
<dt id="server.api.resources.NNOfExistingImage.post"><code class="name flex">
<span>def <span class="ident">post</span></span>(<span>self, picture_id: Any)</span>
</code></dt>
<dd>
<div class="desc"><p>HTTP POST request used to return the nearest neighbours of one image within the database</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>picture_id</code></strong> :&ensp;<code>Any</code></dt>
<dd>id of image in database, whose nearest neighbours shall be found</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>Any</code></dt>
<dd>data for response</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def post(self, picture_id: Any):
    &#34;&#34;&#34;HTTP POST request used to return the nearest neighbours of one image within the database

    Args:
        picture_id (Any): id of image in database, whose nearest neighbours shall be found

    Returns:
        Any: data for response
    &#34;&#34;&#34;
    if picture_id is None:
        abort(404, message=&#34;No picture_id present in path&#34;)
    try:
        picture_id = int(picture_id)
    except ValueError as e:
        abort(404, message=f&#34;{e}\n Parsing picture_id {picture_id} failed&#34;)
    
    image = db.get_instance().get_one_fullsize_by_id(picture_id)
    if image is None:
        abort(404, message=f&#34;Picture {picture_id} not found&#34;)
    the_path = image[&#34;path&#34;]
    
    if not &#34;k&#34; in request.json:
        abort(404, message=&#34;k is missing in request body&#34;)
    success, error, k = is_k_valid(request.json[&#34;k&#34;], db.get_instance(), id_from_database=True)
    if not success:
        abort(404, message=error)
    k += 1  # Image exists in database and is found in nearest neighbour search, need to find one more to delete the image itself from neighbours
    
    converted_image = load_and_process_one_from_dataset(the_path)
    D, I = iss.get_instance().search(converted_image, k)
    
    sim_percentages = get_similarities(D)
    
    spot = np.argwhere(I == picture_id) # searching for index of requested center image
    if spot.shape[0] == 0: # no spot found, remove last element in result arrays
        spot = I.shape[1] - 1
    else: # remove element at spot
        spot = spot[0, 1]
    # Remove requested Picture
    D = np.delete(D, obj=spot, axis=1)
    I = np.delete(I, obj=spot, axis=1)
    sim_percentages[0].pop(spot)
    
    res = db.get_instance().ids_to_various(I, filename=True, cluster_center=True)
    neighbour_filenames = res[&#34;filename&#34;]
    neighbour_cluster_centers = res[&#34;cluster_center&#34;]
    
    cluster_center = db.get_instance().get_one_label(picture_id)
    
    return {
        &#34;requested_id&#34;: picture_id,
        &#34;requested_filename&#34;: image[&#34;filename&#34;],
        &#34;distances&#34;: D.tolist(),
        &#34;ids&#34;: I.tolist(),
        &#34;neighbour_filenames&#34;: neighbour_filenames,
        &#34;neighbour_cluster_centers&#34;: neighbour_cluster_centers,
        &#34;similarities&#34;: sim_percentages,
        &#34;cluster_center&#34;: int(cluster_center)
    }</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="server.api.resources.NNOfExistingImages"><code class="flex name class">
<span>class <span class="ident">NNOfExistingImages</span></span>
</code></dt>
<dd>
<div class="desc"><p>Resource returns the neighbours of multiple (POST) or all (GET) images in the database</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class NNOfExistingImages(Resource):
    &#34;&#34;&#34;Resource returns the neighbours of multiple (POST) or all (GET) images in the database&#34;&#34;&#34;

    def multiple(self, k: Any, ids: &#39;list[int]&#39;) -&gt; &#39;Union[dict, NoReturn]&#39;:
        &#34;&#34;&#34;Method used by both get and post, finding the nearest neighbours for all ids within &#34;ids&#34;

        Args:
            k (Any): amount of nearest neighbours
            ids (list[int]): list of ids from images, whose nearest neighbours shall be returned

        Returns:
            dict: dict containing the data concerning the nearest neighbour calculation
        &#34;&#34;&#34;        
        k_success, k, error = verify_k(k)
        if not k_success:
            abort(404, message=error)
        load_success, images, description, error = load_images_by_id(ids, db.get_instance())
        if not load_success:
            abort(500, message=f&#34;{error}\nAn error occured while loading the images&#34;)
        print(f&#34;Searching with shape {images.shape}&#34;)
        D, I = iss.get_instance().search(images, k)
        sim_percentages = get_similarities_as_array(D)
        for idx, id in enumerate(ids):
            desc = description[idx]
            assert desc[&#34;id&#34;] == id

            nn = np.array(I[idx,:])
            dist = np.array(D[idx,:])
            sims = np.array(sim_percentages[idx,:])
            
            spot = np.argwhere(nn == id)
            if spot.shape[0] == 0:
                spot = nn.shape[1] - 1
            else:
                spot = spot[0]
            
            nn = np.delete(nn, obj=spot)
            dist = np.delete(dist, obj=spot)
            sims = np.delete(sims, obj=spot)
            
            desc[&#34;neighbour_ids&#34;] = nn.tolist()
            desc[&#34;distances&#34;] = dist.tolist()
            desc[&#34;similarities&#34;]  = sims.tolist()
            
            res = db.get_instance().ids_to_various(nn, filename=True, cluster_center=True)
            desc[&#34;neighbour_filenames&#34;] = res[&#34;filename&#34;][0]
            desc[&#34;neighbour_cluster_centers&#34;] = res[&#34;cluster_center&#34;][0]
        return description

    def get(self, k):
        &#34;&#34;&#34;
        Method used for returning the nearest neighbours of all images in database
        
        Args:
            k (Any): amount of nearest neighbours
        
        Returns:
            Any: data for response
        &#34;&#34;&#34;
        if db.get_instance().is_db_empty():
            abort(404, message=&#34;No images in database&#34;)
        ids = [ item[&#34;id&#34;] for item in db.get_instance().get_all_ids() ]
        return self.multiple(k, ids)

    def post(self, k):
        &#34;&#34;&#34;
        Method used for returning the nearest neighbours of all images specified in body in picture_ids
        
        Args:
            k (Any): amount of nearest neighbours
        
        Returns:
            Any: data for response
        &#34;&#34;&#34;
        if db.get_instance().is_db_empty():
            abort(404, message=&#34;No images in database&#34;)
        if not &#34;picture_ids&#34; in request.json:
            abort(404, message=&#34;No picture_ids present in json body!&#34;)
        ids = [ int(the_id) for the_id in request.json[&#34;picture_ids&#34;] ]
        abort_if_pictures_dont_exist(ids, db.get_instance())
        return self.multiple(k, ids)</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>flask_restful.Resource</li>
<li>flask.views.MethodView</li>
<li>flask.views.View</li>
</ul>
<h3>Class variables</h3>
<dl>
<dt id="server.api.resources.NNOfExistingImages.endpoint"><code class="name">var <span class="ident">endpoint</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="server.api.resources.NNOfExistingImages.methods"><code class="name">var <span class="ident">methods</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="server.api.resources.NNOfExistingImages.get"><code class="name flex">
<span>def <span class="ident">get</span></span>(<span>self, k)</span>
</code></dt>
<dd>
<div class="desc"><p>Method used for returning the nearest neighbours of all images in database</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>k</code></strong> :&ensp;<code>Any</code></dt>
<dd>amount of nearest neighbours</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>Any</code></dt>
<dd>data for response</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get(self, k):
    &#34;&#34;&#34;
    Method used for returning the nearest neighbours of all images in database
    
    Args:
        k (Any): amount of nearest neighbours
    
    Returns:
        Any: data for response
    &#34;&#34;&#34;
    if db.get_instance().is_db_empty():
        abort(404, message=&#34;No images in database&#34;)
    ids = [ item[&#34;id&#34;] for item in db.get_instance().get_all_ids() ]
    return self.multiple(k, ids)</code></pre>
</details>
</dd>
<dt id="server.api.resources.NNOfExistingImages.mediatypes"><code class="name flex">
<span>def <span class="ident">mediatypes</span></span>(<span>resource_cls)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">return lambda resource_cls: self.mediatypes() + [self.default_mediatype]</code></pre>
</details>
</dd>
<dt id="server.api.resources.NNOfExistingImages.multiple"><code class="name flex">
<span>def <span class="ident">multiple</span></span>(<span>self, k: Any, ids: list[int]) ‑> Union[dict, NoReturn]</span>
</code></dt>
<dd>
<div class="desc"><p>Method used by both get and post, finding the nearest neighbours for all ids within "ids"</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>k</code></strong> :&ensp;<code>Any</code></dt>
<dd>amount of nearest neighbours</dd>
<dt><strong><code>ids</code></strong> :&ensp;<code>list[int]</code></dt>
<dd>list of ids from images, whose nearest neighbours shall be returned</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>dict</code></dt>
<dd>dict containing the data concerning the nearest neighbour calculation</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def multiple(self, k: Any, ids: &#39;list[int]&#39;) -&gt; &#39;Union[dict, NoReturn]&#39;:
    &#34;&#34;&#34;Method used by both get and post, finding the nearest neighbours for all ids within &#34;ids&#34;

    Args:
        k (Any): amount of nearest neighbours
        ids (list[int]): list of ids from images, whose nearest neighbours shall be returned

    Returns:
        dict: dict containing the data concerning the nearest neighbour calculation
    &#34;&#34;&#34;        
    k_success, k, error = verify_k(k)
    if not k_success:
        abort(404, message=error)
    load_success, images, description, error = load_images_by_id(ids, db.get_instance())
    if not load_success:
        abort(500, message=f&#34;{error}\nAn error occured while loading the images&#34;)
    print(f&#34;Searching with shape {images.shape}&#34;)
    D, I = iss.get_instance().search(images, k)
    sim_percentages = get_similarities_as_array(D)
    for idx, id in enumerate(ids):
        desc = description[idx]
        assert desc[&#34;id&#34;] == id

        nn = np.array(I[idx,:])
        dist = np.array(D[idx,:])
        sims = np.array(sim_percentages[idx,:])
        
        spot = np.argwhere(nn == id)
        if spot.shape[0] == 0:
            spot = nn.shape[1] - 1
        else:
            spot = spot[0]
        
        nn = np.delete(nn, obj=spot)
        dist = np.delete(dist, obj=spot)
        sims = np.delete(sims, obj=spot)
        
        desc[&#34;neighbour_ids&#34;] = nn.tolist()
        desc[&#34;distances&#34;] = dist.tolist()
        desc[&#34;similarities&#34;]  = sims.tolist()
        
        res = db.get_instance().ids_to_various(nn, filename=True, cluster_center=True)
        desc[&#34;neighbour_filenames&#34;] = res[&#34;filename&#34;][0]
        desc[&#34;neighbour_cluster_centers&#34;] = res[&#34;cluster_center&#34;][0]
    return description</code></pre>
</details>
</dd>
<dt id="server.api.resources.NNOfExistingImages.post"><code class="name flex">
<span>def <span class="ident">post</span></span>(<span>self, k)</span>
</code></dt>
<dd>
<div class="desc"><p>Method used for returning the nearest neighbours of all images specified in body in picture_ids</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>k</code></strong> :&ensp;<code>Any</code></dt>
<dd>amount of nearest neighbours</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>Any</code></dt>
<dd>data for response</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def post(self, k):
    &#34;&#34;&#34;
    Method used for returning the nearest neighbours of all images specified in body in picture_ids
    
    Args:
        k (Any): amount of nearest neighbours
    
    Returns:
        Any: data for response
    &#34;&#34;&#34;
    if db.get_instance().is_db_empty():
        abort(404, message=&#34;No images in database&#34;)
    if not &#34;picture_ids&#34; in request.json:
        abort(404, message=&#34;No picture_ids present in json body!&#34;)
    ids = [ int(the_id) for the_id in request.json[&#34;picture_ids&#34;] ]
    abort_if_pictures_dont_exist(ids, db.get_instance())
    return self.multiple(k, ids)</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="server.api.resources.OneFullsize"><code class="flex name class">
<span>class <span class="ident">OneFullsize</span></span>
</code></dt>
<dd>
<div class="desc"><p>Resource returns one fullsize image on post request</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class OneFullsize(Resource):
    &#34;&#34;&#34;Resource returns one fullsize image on post request&#34;&#34;&#34;

    def get(self, picture_id: Any):
        &#34;&#34;&#34;HTTP GET request used to return one fullsize image specified by picture_id in path

        Args:
            picture_id (Any): id of image to be returned

        Returns:
            Any: data for response
        &#34;&#34;&#34;
        if picture_id is None:
            abort(404, message=&#34;No picture_id present in path&#34;)
        try:
            picture_id = int(picture_id)
        except ValueError as e:
            abort(404, message=f&#34;{e}\n Parsing picture_id {picture_id} failed&#34;)
        abort_if_pictures_dont_exist(picture_id, db.get_instance())
        print(f&#34;Getting fullsize image { picture_id } &#34;)
        image = db.get_instance().get_one_fullsize_by_id(picture_id)
        if image is None:
            abort(404, message=f&#34;Picture {picture_id} not found&#34;)
        return send_file(image[&#34;path&#34;])</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>flask_restful.Resource</li>
<li>flask.views.MethodView</li>
<li>flask.views.View</li>
</ul>
<h3>Class variables</h3>
<dl>
<dt id="server.api.resources.OneFullsize.endpoint"><code class="name">var <span class="ident">endpoint</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="server.api.resources.OneFullsize.methods"><code class="name">var <span class="ident">methods</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="server.api.resources.OneFullsize.get"><code class="name flex">
<span>def <span class="ident">get</span></span>(<span>self, picture_id: Any)</span>
</code></dt>
<dd>
<div class="desc"><p>HTTP GET request used to return one fullsize image specified by picture_id in path</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>picture_id</code></strong> :&ensp;<code>Any</code></dt>
<dd>id of image to be returned</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>Any</code></dt>
<dd>data for response</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get(self, picture_id: Any):
    &#34;&#34;&#34;HTTP GET request used to return one fullsize image specified by picture_id in path

    Args:
        picture_id (Any): id of image to be returned

    Returns:
        Any: data for response
    &#34;&#34;&#34;
    if picture_id is None:
        abort(404, message=&#34;No picture_id present in path&#34;)
    try:
        picture_id = int(picture_id)
    except ValueError as e:
        abort(404, message=f&#34;{e}\n Parsing picture_id {picture_id} failed&#34;)
    abort_if_pictures_dont_exist(picture_id, db.get_instance())
    print(f&#34;Getting fullsize image { picture_id } &#34;)
    image = db.get_instance().get_one_fullsize_by_id(picture_id)
    if image is None:
        abort(404, message=f&#34;Picture {picture_id} not found&#34;)
    return send_file(image[&#34;path&#34;])</code></pre>
</details>
</dd>
<dt id="server.api.resources.OneFullsize.mediatypes"><code class="name flex">
<span>def <span class="ident">mediatypes</span></span>(<span>resource_cls)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">return lambda resource_cls: self.mediatypes() + [self.default_mediatype]</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="server.api.resources.OneThumbnail"><code class="flex name class">
<span>class <span class="ident">OneThumbnail</span></span>
</code></dt>
<dd>
<div class="desc"><p>Resource returns one thumbnail on get request</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class OneThumbnail(Resource):
    &#34;&#34;&#34;Resource returns one thumbnail on get request&#34;&#34;&#34;

    def get(self, picture_id):
        &#34;&#34;&#34;HTTP GET request used to return one thumbnail specified by picture_id in path

        Args:
            picture_id (Any): id of image whose thumbnail shall be returned

        Returns:
            Any: data for response
        &#34;&#34;&#34;
        if picture_id is None:
            abort(404, message=&#34;No picture_id present in path&#34;)
        try:
            picture_id = int(picture_id)
        except ValueError as e:
            abort(404, message=f&#34;{e}\n Parsing picture_id {picture_id} failed&#34;)
        abort_if_pictures_dont_exist(picture_id, db.get_instance())
        print(f&#34;Getting image thumbnail { picture_id } &#34;)
        image = db.get_instance().get_one_thumbnail_by_id(picture_id)
        
        if image is None:
            abort(404, message=f&#34;Picture {picture_id} not found&#34;)
        return send_file(image, mimetype=image.content_type, attachment_filename=image.filename)</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>flask_restful.Resource</li>
<li>flask.views.MethodView</li>
<li>flask.views.View</li>
</ul>
<h3>Class variables</h3>
<dl>
<dt id="server.api.resources.OneThumbnail.endpoint"><code class="name">var <span class="ident">endpoint</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="server.api.resources.OneThumbnail.methods"><code class="name">var <span class="ident">methods</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="server.api.resources.OneThumbnail.get"><code class="name flex">
<span>def <span class="ident">get</span></span>(<span>self, picture_id)</span>
</code></dt>
<dd>
<div class="desc"><p>HTTP GET request used to return one thumbnail specified by picture_id in path</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>picture_id</code></strong> :&ensp;<code>Any</code></dt>
<dd>id of image whose thumbnail shall be returned</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>Any</code></dt>
<dd>data for response</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get(self, picture_id):
    &#34;&#34;&#34;HTTP GET request used to return one thumbnail specified by picture_id in path

    Args:
        picture_id (Any): id of image whose thumbnail shall be returned

    Returns:
        Any: data for response
    &#34;&#34;&#34;
    if picture_id is None:
        abort(404, message=&#34;No picture_id present in path&#34;)
    try:
        picture_id = int(picture_id)
    except ValueError as e:
        abort(404, message=f&#34;{e}\n Parsing picture_id {picture_id} failed&#34;)
    abort_if_pictures_dont_exist(picture_id, db.get_instance())
    print(f&#34;Getting image thumbnail { picture_id } &#34;)
    image = db.get_instance().get_one_thumbnail_by_id(picture_id)
    
    if image is None:
        abort(404, message=f&#34;Picture {picture_id} not found&#34;)
    return send_file(image, mimetype=image.content_type, attachment_filename=image.filename)</code></pre>
</details>
</dd>
<dt id="server.api.resources.OneThumbnail.mediatypes"><code class="name flex">
<span>def <span class="ident">mediatypes</span></span>(<span>resource_cls)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">return lambda resource_cls: self.mediatypes() + [self.default_mediatype]</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="server.api.resources.ThumbnailSize"><code class="flex name class">
<span>class <span class="ident">ThumbnailSize</span></span>
</code></dt>
<dd>
<div class="desc"><p>Resource returns the size of thumbnails within the dataset on get request</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class ThumbnailSize(Resource):
    &#34;&#34;&#34;Resource returns the size of thumbnails within the dataset on get request&#34;&#34;&#34;
    
    def get(self):
        &#34;&#34;&#34;HTTP GET request used to return the size of thumbnails within the dataset

        Returns:
            Any: data for response
        &#34;&#34;&#34;
        return {
            &#34;width&#34;: environ.get(&#34;ACTUAL_THUMBNAIL_WIDTH&#34;),
            &#34;height&#34;: environ.get(&#34;ACTUAL_THUMBNAIL_HEIGHT&#34;)
        }   </code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>flask_restful.Resource</li>
<li>flask.views.MethodView</li>
<li>flask.views.View</li>
</ul>
<h3>Class variables</h3>
<dl>
<dt id="server.api.resources.ThumbnailSize.endpoint"><code class="name">var <span class="ident">endpoint</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="server.api.resources.ThumbnailSize.methods"><code class="name">var <span class="ident">methods</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="server.api.resources.ThumbnailSize.get"><code class="name flex">
<span>def <span class="ident">get</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>HTTP GET request used to return the size of thumbnails within the dataset</p>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>Any</code></dt>
<dd>data for response</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def get(self):
    &#34;&#34;&#34;HTTP GET request used to return the size of thumbnails within the dataset

    Returns:
        Any: data for response
    &#34;&#34;&#34;
    return {
        &#34;width&#34;: environ.get(&#34;ACTUAL_THUMBNAIL_WIDTH&#34;),
        &#34;height&#34;: environ.get(&#34;ACTUAL_THUMBNAIL_HEIGHT&#34;)
    }   </code></pre>
</details>
</dd>
<dt id="server.api.resources.ThumbnailSize.mediatypes"><code class="name flex">
<span>def <span class="ident">mediatypes</span></span>(<span>resource_cls)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">return lambda resource_cls: self.mediatypes() + [self.default_mediatype]</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="server.api.resources.Upload"><code class="flex name class">
<span>class <span class="ident">Upload</span></span>
</code></dt>
<dd>
<div class="desc"><p>Resource calculates and returns nearest neighbours, cluster centers and coordinates of uploaded images on post request</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Upload(Resource):
    &#34;&#34;&#34;Resource calculates and returns nearest neighbours, cluster centers and coordinates of uploaded images on post request&#34;&#34;&#34;
    # See https://flask.palletsprojects.com/en/2.0.x/patterns/fileuploads/

    def post(self):
        &#34;&#34;&#34;HTTP POST request used to calculate and return nearest neighbours, cluster centers and coordinates of uploaded images
        
        Returns:
            Any: data for response
        &#34;&#34;&#34;
        if not &#34;k&#34; in request.form:
            abort(404, message=&#34;No k found&#34;)
        k = request.form[&#34;k&#34;]
        success, error, k = is_k_valid(k, db.get_instance())
        if not success:
            abort(404, message=error)
        print(&#34;k is&#34;, k)
        
        nr_of_files = len(request.files)
        print(f&#34;Uploaded {nr_of_files} file(s)&#34;)
        if nr_of_files == 0:
            abort(404, message=&#34;No images send&#34;)
        
        images = []
        filenames = []
        correct_image_shape = (int(environ.get(&#34;FULLSIZE_WIDTH&#34;)), int(environ.get(&#34;FULLSIZE_HEIGHT&#34;)))
        for item in request.files.items():
            the_file = item[1]
            if allowed_file(the_file.filename):
                filenames.append(the_file.filename)
                new_image, new_image_shape = process_image(the_file)
                if new_image_shape != correct_image_shape:
                    print(f&#34;Image has incorrect size with {new_image_shape}&#34;)
                    abort(404, description=f&#34;Image {item[0]} has incorrect shape with {new_image_shape} != {correct_image_shape}&#34;)
                images.append(new_image)
        nr_of_allowed_files = len(images)
        print(f&#34;Uploaded {nr_of_allowed_files} allowed files&#34;)
        if nr_of_allowed_files == 0:
            abort(404, message=&#34;No allowed files send&#34;)
        
        session_token = g.local_variables.get(&#34;Api-Session-Token&#34;)
        new_ids = db.get_instance().get_next_ids(session_token, nr_of_allowed_files)
        coordinates = tsne.get_instance().calculate_coordinates(images)
        labels = kmeans.get_instance().predict(coordinates)
        
        D, I = iss.get_instance().search(images, k)
        
        sim_percentages = get_similarities(D)
        
        res = db.get_instance().ids_to_various(I, filename=True, cluster_center=True)
        neighbour_filenames = res[&#34;filename&#34;]
        neighbour_cluster_centers = res[&#34;cluster_center&#34;]
        
        return { 
            &#34;uploaded_filenames&#34;: filenames,
            &#34;new_ids&#34;: new_ids,
            &#34;distances&#34;: D.tolist(), 
            &#34;ids&#34;: I.tolist(), 
            &#34;neighbour_filenames&#34;: neighbour_filenames,
            &#34;neighbour_cluster_centers&#34;: neighbour_cluster_centers,
            &#34;coordinates&#34;: coordinates.tolist(),
            &#34;similarities&#34;: sim_percentages,
            &#34;cluster_centers&#34;: labels.tolist()
            }</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>flask_restful.Resource</li>
<li>flask.views.MethodView</li>
<li>flask.views.View</li>
</ul>
<h3>Class variables</h3>
<dl>
<dt id="server.api.resources.Upload.endpoint"><code class="name">var <span class="ident">endpoint</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="server.api.resources.Upload.methods"><code class="name">var <span class="ident">methods</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="server.api.resources.Upload.mediatypes"><code class="name flex">
<span>def <span class="ident">mediatypes</span></span>(<span>resource_cls)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">return lambda resource_cls: self.mediatypes() + [self.default_mediatype]</code></pre>
</details>
</dd>
<dt id="server.api.resources.Upload.post"><code class="name flex">
<span>def <span class="ident">post</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>HTTP POST request used to calculate and return nearest neighbours, cluster centers and coordinates of uploaded images</p>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>Any</code></dt>
<dd>data for response</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def post(self):
    &#34;&#34;&#34;HTTP POST request used to calculate and return nearest neighbours, cluster centers and coordinates of uploaded images
    
    Returns:
        Any: data for response
    &#34;&#34;&#34;
    if not &#34;k&#34; in request.form:
        abort(404, message=&#34;No k found&#34;)
    k = request.form[&#34;k&#34;]
    success, error, k = is_k_valid(k, db.get_instance())
    if not success:
        abort(404, message=error)
    print(&#34;k is&#34;, k)
    
    nr_of_files = len(request.files)
    print(f&#34;Uploaded {nr_of_files} file(s)&#34;)
    if nr_of_files == 0:
        abort(404, message=&#34;No images send&#34;)
    
    images = []
    filenames = []
    correct_image_shape = (int(environ.get(&#34;FULLSIZE_WIDTH&#34;)), int(environ.get(&#34;FULLSIZE_HEIGHT&#34;)))
    for item in request.files.items():
        the_file = item[1]
        if allowed_file(the_file.filename):
            filenames.append(the_file.filename)
            new_image, new_image_shape = process_image(the_file)
            if new_image_shape != correct_image_shape:
                print(f&#34;Image has incorrect size with {new_image_shape}&#34;)
                abort(404, description=f&#34;Image {item[0]} has incorrect shape with {new_image_shape} != {correct_image_shape}&#34;)
            images.append(new_image)
    nr_of_allowed_files = len(images)
    print(f&#34;Uploaded {nr_of_allowed_files} allowed files&#34;)
    if nr_of_allowed_files == 0:
        abort(404, message=&#34;No allowed files send&#34;)
    
    session_token = g.local_variables.get(&#34;Api-Session-Token&#34;)
    new_ids = db.get_instance().get_next_ids(session_token, nr_of_allowed_files)
    coordinates = tsne.get_instance().calculate_coordinates(images)
    labels = kmeans.get_instance().predict(coordinates)
    
    D, I = iss.get_instance().search(images, k)
    
    sim_percentages = get_similarities(D)
    
    res = db.get_instance().ids_to_various(I, filename=True, cluster_center=True)
    neighbour_filenames = res[&#34;filename&#34;]
    neighbour_cluster_centers = res[&#34;cluster_center&#34;]
    
    return { 
        &#34;uploaded_filenames&#34;: filenames,
        &#34;new_ids&#34;: new_ids,
        &#34;distances&#34;: D.tolist(), 
        &#34;ids&#34;: I.tolist(), 
        &#34;neighbour_filenames&#34;: neighbour_filenames,
        &#34;neighbour_cluster_centers&#34;: neighbour_cluster_centers,
        &#34;coordinates&#34;: coordinates.tolist(),
        &#34;similarities&#34;: sim_percentages,
        &#34;cluster_centers&#34;: labels.tolist()
        }</code></pre>
</details>
</dd>
</dl>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="server.api" href="../index.html">server.api</a></code></li>
</ul>
</li>
<li><h3><a href="#header-submodules">Sub-modules</a></h3>
<ul>
<li><code><a title="server.api.resources.getImages" href="getImages/index.html">server.api.resources.getImages</a></code></li>
<li><code><a title="server.api.resources.getMetadata" href="getMetadata/index.html">server.api.resources.getMetadata</a></code></li>
<li><code><a title="server.api.resources.getNn" href="getNn/index.html">server.api.resources.getNn</a></code></li>
<li><code><a title="server.api.resources.misc" href="misc/index.html">server.api.resources.misc</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="server.api.resources.AllPictureIDs" href="#server.api.resources.AllPictureIDs">AllPictureIDs</a></code></h4>
<ul class="">
<li><code><a title="server.api.resources.AllPictureIDs.endpoint" href="#server.api.resources.AllPictureIDs.endpoint">endpoint</a></code></li>
<li><code><a title="server.api.resources.AllPictureIDs.get" href="#server.api.resources.AllPictureIDs.get">get</a></code></li>
<li><code><a title="server.api.resources.AllPictureIDs.mediatypes" href="#server.api.resources.AllPictureIDs.mediatypes">mediatypes</a></code></li>
<li><code><a title="server.api.resources.AllPictureIDs.methods" href="#server.api.resources.AllPictureIDs.methods">methods</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="server.api.resources.AllThumbnails" href="#server.api.resources.AllThumbnails">AllThumbnails</a></code></h4>
<ul class="">
<li><code><a title="server.api.resources.AllThumbnails.endpoint" href="#server.api.resources.AllThumbnails.endpoint">endpoint</a></code></li>
<li><code><a title="server.api.resources.AllThumbnails.get" href="#server.api.resources.AllThumbnails.get">get</a></code></li>
<li><code><a title="server.api.resources.AllThumbnails.mediatypes" href="#server.api.resources.AllThumbnails.mediatypes">mediatypes</a></code></li>
<li><code><a title="server.api.resources.AllThumbnails.methods" href="#server.api.resources.AllThumbnails.methods">methods</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="server.api.resources.AnalyseDataset" href="#server.api.resources.AnalyseDataset">AnalyseDataset</a></code></h4>
<ul class="">
<li><code><a title="server.api.resources.AnalyseDataset.endpoint" href="#server.api.resources.AnalyseDataset.endpoint">endpoint</a></code></li>
<li><code><a title="server.api.resources.AnalyseDataset.get" href="#server.api.resources.AnalyseDataset.get">get</a></code></li>
<li><code><a title="server.api.resources.AnalyseDataset.mediatypes" href="#server.api.resources.AnalyseDataset.mediatypes">mediatypes</a></code></li>
<li><code><a title="server.api.resources.AnalyseDataset.methods" href="#server.api.resources.AnalyseDataset.methods">methods</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="server.api.resources.ChangeActiveFaissIndex" href="#server.api.resources.ChangeActiveFaissIndex">ChangeActiveFaissIndex</a></code></h4>
<ul class="">
<li><code><a title="server.api.resources.ChangeActiveFaissIndex.endpoint" href="#server.api.resources.ChangeActiveFaissIndex.endpoint">endpoint</a></code></li>
<li><code><a title="server.api.resources.ChangeActiveFaissIndex.get" href="#server.api.resources.ChangeActiveFaissIndex.get">get</a></code></li>
<li><code><a title="server.api.resources.ChangeActiveFaissIndex.mediatypes" href="#server.api.resources.ChangeActiveFaissIndex.mediatypes">mediatypes</a></code></li>
<li><code><a title="server.api.resources.ChangeActiveFaissIndex.methods" href="#server.api.resources.ChangeActiveFaissIndex.methods">methods</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="server.api.resources.ChangeNumberOfKMeansCentroids" href="#server.api.resources.ChangeNumberOfKMeansCentroids">ChangeNumberOfKMeansCentroids</a></code></h4>
<ul class="">
<li><code><a title="server.api.resources.ChangeNumberOfKMeansCentroids.endpoint" href="#server.api.resources.ChangeNumberOfKMeansCentroids.endpoint">endpoint</a></code></li>
<li><code><a title="server.api.resources.ChangeNumberOfKMeansCentroids.get" href="#server.api.resources.ChangeNumberOfKMeansCentroids.get">get</a></code></li>
<li><code><a title="server.api.resources.ChangeNumberOfKMeansCentroids.mediatypes" href="#server.api.resources.ChangeNumberOfKMeansCentroids.mediatypes">mediatypes</a></code></li>
<li><code><a title="server.api.resources.ChangeNumberOfKMeansCentroids.methods" href="#server.api.resources.ChangeNumberOfKMeansCentroids.methods">methods</a></code></li>
<li><code><a title="server.api.resources.ChangeNumberOfKMeansCentroids.post" href="#server.api.resources.ChangeNumberOfKMeansCentroids.post">post</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="server.api.resources.GetAllFaissIndices" href="#server.api.resources.GetAllFaissIndices">GetAllFaissIndices</a></code></h4>
<ul class="">
<li><code><a title="server.api.resources.GetAllFaissIndices.endpoint" href="#server.api.resources.GetAllFaissIndices.endpoint">endpoint</a></code></li>
<li><code><a title="server.api.resources.GetAllFaissIndices.get" href="#server.api.resources.GetAllFaissIndices.get">get</a></code></li>
<li><code><a title="server.api.resources.GetAllFaissIndices.mediatypes" href="#server.api.resources.GetAllFaissIndices.mediatypes">mediatypes</a></code></li>
<li><code><a title="server.api.resources.GetAllFaissIndices.methods" href="#server.api.resources.GetAllFaissIndices.methods">methods</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="server.api.resources.GetSessionToken" href="#server.api.resources.GetSessionToken">GetSessionToken</a></code></h4>
<ul class="">
<li><code><a title="server.api.resources.GetSessionToken.endpoint" href="#server.api.resources.GetSessionToken.endpoint">endpoint</a></code></li>
<li><code><a title="server.api.resources.GetSessionToken.get" href="#server.api.resources.GetSessionToken.get">get</a></code></li>
<li><code><a title="server.api.resources.GetSessionToken.mediatypes" href="#server.api.resources.GetSessionToken.mediatypes">mediatypes</a></code></li>
<li><code><a title="server.api.resources.GetSessionToken.methods" href="#server.api.resources.GetSessionToken.methods">methods</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="server.api.resources.ImagesSize" href="#server.api.resources.ImagesSize">ImagesSize</a></code></h4>
<ul class="">
<li><code><a title="server.api.resources.ImagesSize.endpoint" href="#server.api.resources.ImagesSize.endpoint">endpoint</a></code></li>
<li><code><a title="server.api.resources.ImagesSize.get" href="#server.api.resources.ImagesSize.get">get</a></code></li>
<li><code><a title="server.api.resources.ImagesSize.mediatypes" href="#server.api.resources.ImagesSize.mediatypes">mediatypes</a></code></li>
<li><code><a title="server.api.resources.ImagesSize.methods" href="#server.api.resources.ImagesSize.methods">methods</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="server.api.resources.MetadataAllImages" href="#server.api.resources.MetadataAllImages">MetadataAllImages</a></code></h4>
<ul class="">
<li><code><a title="server.api.resources.MetadataAllImages.endpoint" href="#server.api.resources.MetadataAllImages.endpoint">endpoint</a></code></li>
<li><code><a title="server.api.resources.MetadataAllImages.get" href="#server.api.resources.MetadataAllImages.get">get</a></code></li>
<li><code><a title="server.api.resources.MetadataAllImages.mediatypes" href="#server.api.resources.MetadataAllImages.mediatypes">mediatypes</a></code></li>
<li><code><a title="server.api.resources.MetadataAllImages.methods" href="#server.api.resources.MetadataAllImages.methods">methods</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="server.api.resources.MetadataMultipleImages" href="#server.api.resources.MetadataMultipleImages">MetadataMultipleImages</a></code></h4>
<ul class="">
<li><code><a title="server.api.resources.MetadataMultipleImages.endpoint" href="#server.api.resources.MetadataMultipleImages.endpoint">endpoint</a></code></li>
<li><code><a title="server.api.resources.MetadataMultipleImages.mediatypes" href="#server.api.resources.MetadataMultipleImages.mediatypes">mediatypes</a></code></li>
<li><code><a title="server.api.resources.MetadataMultipleImages.methods" href="#server.api.resources.MetadataMultipleImages.methods">methods</a></code></li>
<li><code><a title="server.api.resources.MetadataMultipleImages.post" href="#server.api.resources.MetadataMultipleImages.post">post</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="server.api.resources.MetadataOneImage" href="#server.api.resources.MetadataOneImage">MetadataOneImage</a></code></h4>
<ul class="">
<li><code><a title="server.api.resources.MetadataOneImage.endpoint" href="#server.api.resources.MetadataOneImage.endpoint">endpoint</a></code></li>
<li><code><a title="server.api.resources.MetadataOneImage.get" href="#server.api.resources.MetadataOneImage.get">get</a></code></li>
<li><code><a title="server.api.resources.MetadataOneImage.mediatypes" href="#server.api.resources.MetadataOneImage.mediatypes">mediatypes</a></code></li>
<li><code><a title="server.api.resources.MetadataOneImage.methods" href="#server.api.resources.MetadataOneImage.methods">methods</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="server.api.resources.MultipleFullsize" href="#server.api.resources.MultipleFullsize">MultipleFullsize</a></code></h4>
<ul class="">
<li><code><a title="server.api.resources.MultipleFullsize.endpoint" href="#server.api.resources.MultipleFullsize.endpoint">endpoint</a></code></li>
<li><code><a title="server.api.resources.MultipleFullsize.mediatypes" href="#server.api.resources.MultipleFullsize.mediatypes">mediatypes</a></code></li>
<li><code><a title="server.api.resources.MultipleFullsize.methods" href="#server.api.resources.MultipleFullsize.methods">methods</a></code></li>
<li><code><a title="server.api.resources.MultipleFullsize.post" href="#server.api.resources.MultipleFullsize.post">post</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="server.api.resources.MultipleThumbnails" href="#server.api.resources.MultipleThumbnails">MultipleThumbnails</a></code></h4>
<ul class="">
<li><code><a title="server.api.resources.MultipleThumbnails.endpoint" href="#server.api.resources.MultipleThumbnails.endpoint">endpoint</a></code></li>
<li><code><a title="server.api.resources.MultipleThumbnails.mediatypes" href="#server.api.resources.MultipleThumbnails.mediatypes">mediatypes</a></code></li>
<li><code><a title="server.api.resources.MultipleThumbnails.methods" href="#server.api.resources.MultipleThumbnails.methods">methods</a></code></li>
<li><code><a title="server.api.resources.MultipleThumbnails.post" href="#server.api.resources.MultipleThumbnails.post">post</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="server.api.resources.NNOfExistingImage" href="#server.api.resources.NNOfExistingImage">NNOfExistingImage</a></code></h4>
<ul class="">
<li><code><a title="server.api.resources.NNOfExistingImage.endpoint" href="#server.api.resources.NNOfExistingImage.endpoint">endpoint</a></code></li>
<li><code><a title="server.api.resources.NNOfExistingImage.mediatypes" href="#server.api.resources.NNOfExistingImage.mediatypes">mediatypes</a></code></li>
<li><code><a title="server.api.resources.NNOfExistingImage.methods" href="#server.api.resources.NNOfExistingImage.methods">methods</a></code></li>
<li><code><a title="server.api.resources.NNOfExistingImage.post" href="#server.api.resources.NNOfExistingImage.post">post</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="server.api.resources.NNOfExistingImages" href="#server.api.resources.NNOfExistingImages">NNOfExistingImages</a></code></h4>
<ul class="two-column">
<li><code><a title="server.api.resources.NNOfExistingImages.endpoint" href="#server.api.resources.NNOfExistingImages.endpoint">endpoint</a></code></li>
<li><code><a title="server.api.resources.NNOfExistingImages.get" href="#server.api.resources.NNOfExistingImages.get">get</a></code></li>
<li><code><a title="server.api.resources.NNOfExistingImages.mediatypes" href="#server.api.resources.NNOfExistingImages.mediatypes">mediatypes</a></code></li>
<li><code><a title="server.api.resources.NNOfExistingImages.methods" href="#server.api.resources.NNOfExistingImages.methods">methods</a></code></li>
<li><code><a title="server.api.resources.NNOfExistingImages.multiple" href="#server.api.resources.NNOfExistingImages.multiple">multiple</a></code></li>
<li><code><a title="server.api.resources.NNOfExistingImages.post" href="#server.api.resources.NNOfExistingImages.post">post</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="server.api.resources.OneFullsize" href="#server.api.resources.OneFullsize">OneFullsize</a></code></h4>
<ul class="">
<li><code><a title="server.api.resources.OneFullsize.endpoint" href="#server.api.resources.OneFullsize.endpoint">endpoint</a></code></li>
<li><code><a title="server.api.resources.OneFullsize.get" href="#server.api.resources.OneFullsize.get">get</a></code></li>
<li><code><a title="server.api.resources.OneFullsize.mediatypes" href="#server.api.resources.OneFullsize.mediatypes">mediatypes</a></code></li>
<li><code><a title="server.api.resources.OneFullsize.methods" href="#server.api.resources.OneFullsize.methods">methods</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="server.api.resources.OneThumbnail" href="#server.api.resources.OneThumbnail">OneThumbnail</a></code></h4>
<ul class="">
<li><code><a title="server.api.resources.OneThumbnail.endpoint" href="#server.api.resources.OneThumbnail.endpoint">endpoint</a></code></li>
<li><code><a title="server.api.resources.OneThumbnail.get" href="#server.api.resources.OneThumbnail.get">get</a></code></li>
<li><code><a title="server.api.resources.OneThumbnail.mediatypes" href="#server.api.resources.OneThumbnail.mediatypes">mediatypes</a></code></li>
<li><code><a title="server.api.resources.OneThumbnail.methods" href="#server.api.resources.OneThumbnail.methods">methods</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="server.api.resources.ThumbnailSize" href="#server.api.resources.ThumbnailSize">ThumbnailSize</a></code></h4>
<ul class="">
<li><code><a title="server.api.resources.ThumbnailSize.endpoint" href="#server.api.resources.ThumbnailSize.endpoint">endpoint</a></code></li>
<li><code><a title="server.api.resources.ThumbnailSize.get" href="#server.api.resources.ThumbnailSize.get">get</a></code></li>
<li><code><a title="server.api.resources.ThumbnailSize.mediatypes" href="#server.api.resources.ThumbnailSize.mediatypes">mediatypes</a></code></li>
<li><code><a title="server.api.resources.ThumbnailSize.methods" href="#server.api.resources.ThumbnailSize.methods">methods</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="server.api.resources.Upload" href="#server.api.resources.Upload">Upload</a></code></h4>
<ul class="">
<li><code><a title="server.api.resources.Upload.endpoint" href="#server.api.resources.Upload.endpoint">endpoint</a></code></li>
<li><code><a title="server.api.resources.Upload.mediatypes" href="#server.api.resources.Upload.mediatypes">mediatypes</a></code></li>
<li><code><a title="server.api.resources.Upload.methods" href="#server.api.resources.Upload.methods">methods</a></code></li>
<li><code><a title="server.api.resources.Upload.post" href="#server.api.resources.Upload.post">post</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc"><cite>pdoc</cite> 0.9.1</a>.</p>
</footer>
</body>
</html>
